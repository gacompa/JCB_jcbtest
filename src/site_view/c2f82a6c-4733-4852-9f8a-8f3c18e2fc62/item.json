{
    "system_name": "Fasciolo presenza",
    "name": "Fasciolo presenza",
    "description": "Registra una presenza all'inaugurazione del bivacco Fasciolo",
    "main_get": "91a02c87-ec0f-472c-98e6-86b3abb20894",
    "add_php_jview_display": 0,
    "add_php_document": 0,
    "add_php_view": 0,
    "js_document": "",
    "codename": "fasciolo_presenza",
    "javascript_file": "",
    "context": "fasciolo_presenza",
    "default": "",
    "snippet": "0",
    "add_php_jview": 0,
    "custom_get": null,
    "css_document": "",
    "add_javascript_file": 0,
    "css": "",
    "add_js_document": 0,
    "php_ajaxmethod": "",
    "add_css_document": 0,
    "libraries": null,
    "add_css": 0,
    "dynamic_get": "91a02c87-ec0f-472c-98e6-86b3abb20894",
    "add_php_ajax": 0,
    "ajax_input": null,
    "add_custom_button": 0,
    "php_document": "",
    "button_position": 2,
    "php_view": "",
    "php_jview_display": "\/\/ Verifica se abbiamo un ID (segno che il salvataggio \u00e8 avvenuto)\r\nif (isset($this->item->id) && $this->item->id > 0) {\r\n    \r\n    \/\/ Evitiamo invii multipli se l'utente ricarica la pagina (opzionale)\r\n    $session = JFactory::getSession();\r\n    if (!$session->get('mail_sent_' . $this->item->id)) {\r\n\r\n        $mailer = JFactory::getMailer();\r\n        $config = JFactory::getConfig();\r\n        \r\n        \/\/ Dati dal modulo (usa i nomi dei tuoi campi)\r\n        $recipientEmail = $this->item->email; \r\n        $recipientName  = $this->item->name;\r\n\r\n        $sender = array( \r\n            $config->get('mailfrom'), \r\n            $config->get('fromname') \r\n        );\r\n        $mailer->setSender($sender);\r\n        $mailer->addRecipient($recipientEmail);\r\n        \r\n        $mailer->setSubject('Grazie per il tuo supporto - Val Codera');\r\n        $mailer->isHtml(true);\r\n        \r\n        $body = \"<h1>Ciao \" . $recipientName . \"<\/h1>\";\r\n        $body .= \"<p>Abbiamo registrato correttamente i tuoi dati per il progetto Bivacco.<\/p>\";\r\n        \r\n        $mailer->setBody($body);\r\n        \r\n        if ($mailer->Send()) {\r\n            \/\/ Segniamo in sessione che la mail \u00e8 partita per questo ID\r\n            $session->set('mail_sent_' . $this->item->id, true);\r\n        }\r\n    }\r\n}",
    "custom_button": null,
    "php_jview": "",
    "php_controller": "",
    "guid": "c2f82a6c-4733-4852-9f8a-8f3c18e2fc62",
    "php_model": "",
    "@dependencies": [
        {
            "key": "guid",
            "value": "91a02c87-ec0f-472c-98e6-86b3abb20894",
            "entity": "dynamic_get",
            "table": "#__componentbuilder_dynamic_get",
            "direction": "out"
        }
    ]
}