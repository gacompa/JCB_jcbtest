{
    "system_name": "Locations",
    "name": "Locations",
    "description": "Site locations",
    "main_get": "e12b2a0d-b122-4bd4-a6b5-29fe926ecf8c",
    "add_php_jview_display": 1,
    "add_php_document": 0,
    "add_php_view": 1,
    "js_document": "",
    "codename": "locations",
    "javascript_file": "",
    "context": "locations",
    "default": "<form action=\"<?php echo Route::_('index.php?option=com_bookings'); ?>\" method=\"post\" name=\"adminForm\" id=\"adminForm\">\r\n<?php echo $this->toolbar->render(); ?>\r\n<?php echo LayoutHelper::render('rowslocations', []); ?>\r\n\r\n<!-- Put here the route for the one-location view, i.e. index.php\/booking\/one-location -->\r\n<?php $one_location_path = \"index.php\/booking\/one-location\"; ?>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Box con Tre Sezioni<\/title>\r\n<style>\r\n\/* BASE E CONTENITORE PRINCIPALE *\/\r\n        body {\r\n            font-family: Arial, sans-serif;\r\n            margin: 0;\r\n            padding: 20px 0;\r\n            display: flex;\r\n            justify-content: center;\r\n        }\r\n\r\n        .custom-box {\r\n            width: 90%; \/* Occupa il 90% della larghezza della finestra *\/\r\n            max-width: 850px; \/* Limite massimo per schermi desktop *\/\r\n            min-width: 300px; \/* Limite minimo per cellulari *\/\r\n            border: 1px solid #ccc;\r\n            border-radius: 12px;\r\n            overflow: hidden; \r\n            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        \/* --- PRIMA RIGA: BARRA SUPERIORE (Titolo) --- *\/\r\n        .top-bar {\r\n            background-color: #4CAF50; \/* Verde *\/\r\n            color: white;\r\n            padding: 15px 20px;\r\n            font-size: 1.5em; \/* Dimensione del testo responsiva *\/\r\n            font-weight: bold;\r\n            text-align: center;\r\n        }\r\n\r\n        \/* --- SECONDA RIGA: IMMAGINE E TESTO (Flexbox) --- *\/\r\n        .middle-content {\r\n            padding: 20px;\r\n            display: flex; \/* Attiva Flexbox *\/\r\n            gap: 20px; \/* Spazio tra le colonne *\/\r\n            border-bottom: 1px solid #eee;\r\n        }\r\n\r\n        \/* Contenitore Immagine (35% su Desktop) *\/\r\n        .image-container {\r\n            flex: 0 0 35%; \/* Non crescere, non restringere, base 35% *\/\r\n            max-width: 35%;\r\n        }\r\n\r\n        .image-container img {\r\n            width: 100%; \r\n            height: auto;\r\n            display: block;\r\n            border-radius: 8px; \r\n        }\r\n\r\n        \/* Contenitore Testo (65% su Desktop) *\/\r\n        .text-content {\r\n            flex-grow: 1; \/* Occupa lo spazio rimanente *\/\r\n            padding-right: 10px; \/* Piccolo spazio a destra *\/\r\n        }\r\n\r\n        .text-content h3 {\r\n            margin-top: 0;\r\n            color: #333;\r\n        }\r\n       \r\n        \/* The Modal\/Lightbox (hidden by default) *\/\r\n        .lightbox {\r\n            display: none; \/* Hidden by default *\/\r\n            position: fixed; \/* Stay fixed on the screen *\/\r\n           z-index: 9999; \/* Sit on top of everything *\/\r\n            left: 0;\r\n            top: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            overflow: auto; \/* Enable scroll if needed *\/\r\n            background-color: rgba(0, 0, 0, 0.9); \/* Black background with opacity *\/\r\n        }\r\n\r\n        \/* Image inside the Modal *\/\r\n        .lightbox-content {\r\n            margin: auto;\r\n            display: block;\r\n            max-width: 90%; \/* Limits the image width *\/\r\n            max-height: 90vh; \/* Limits the image height to 90% of the viewport height *\/\r\n            position: relative;\r\n            top: 50%;\r\n            transform: translateY(-50%); \/* Centers vertically *\/\r\n        }\r\n\r\n        \/* The Close Button *\/\r\n        .close-button {\r\n            position: absolute;\r\n            top: 15px;\r\n            right: 35px;\r\n            color: #f1f1f1;\r\n            font-size: 40px;\r\n            font-weight: bold;\r\n            transition: 0.3s;\r\n            cursor: pointer;\r\n        }\r\n\r\n        \/* --- TERZA RIGA: TABELLA DATI --- *\/\r\n        .bottom-content {\r\n            padding: 20px;\r\n        }\r\n        \r\n        .data-table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n        }\r\n\r\n        .data-table td {\r\n            padding: 10px 15px;\r\n            border-bottom: 1px solid #f0f0f0;\r\n            font-size: 0.9em;\r\n        }\r\n\r\n        .data-table .label {\r\n            width: 40%;\r\n            font-weight: bold;\r\n            color: #555;\r\n            background-color: #f9f9f9;\r\n        }\r\n\r\n        \/* --- MEDIA QUERY: Adattamento per Schermi Stretti (Mobile) --- *\/\r\n        @media (max-width: 600px) {\r\n            \r\n            .middle-content {\r\n                flex-direction: column; \/* Impila immagine e testo verticalmente *\/\r\n                gap: 15px;\r\n            }\r\n            \r\n            .image-container {\r\n                \/* L'immagine occupa l'intera larghezza disponibile *\/\r\n                flex: 1 1 100%; \r\n                max-width: 100%;\r\n            }\r\n\r\n            .text-content {\r\n                padding-right: 0;\r\n            }\r\n\r\n            .data-table td {\r\n                \/* Riduci padding per meno spazio su schermi piccoli *\/\r\n                padding: 8px 10px;\r\n            }\r\n\r\n            .data-table .label {\r\n                width: 50%; \/* Etichetta occupa pi\u00f9 spazio per evitare interruzioni di riga *\/\r\n            }\r\n        }\r\n    <\/style>\r\n    <\/head>\r\n\r\n<?php foreach ($this->items as $item): ?>\r\n<body>\r\n\r\n<div class=\"custom-box\">\r\n    <div class=\"top-bar\">\r\n<b><?php echo \"<a href=\\\"$one_location_path?id=$item->id\\\" > $item->name <\/a>\"; ?><\/b><br\/><?php echo $item->description; ?>    <\/div>\r\n    \r\n<div class=\"middle-content\">\r\n\r\n    <div class=\"image-container\">\r\n        <?php $baseurl = Uri::root(); ?>\r\n        <?php $fullImageUrl = $baseurl . $item->image; ?>\r\n        <img \r\n            src=\"<?php echo $item->image; ?>\" \r\n            alt=\"Click to Enlarge\" \r\n            onclick=\"openLightbox('<?php echo htmlspecialchars($fullImageUrl); ?>')\"\r\n            style=\"cursor: pointer; width: 300px; height: auto;\" \r\n        \/>\r\n        <?php echo \"Click image to enlarge\" ; ?>\r\n    <\/div>\r\n    <div id=\"lightbox-modal\" class=\"lightbox\" onclick=\"closeLightbox()\">\r\n        <span class=\"close-button\">&times;<\/span>\r\n        <img id=\"lightbox-image\" class=\"lightbox-content\" src=\"<?php echo JPATH_ROOT . \"\/\" .  $item->image; ?>\" alt=\"Enlarged Image\">\r\n    <\/div>       \r\n    <div class=\"text-content\">\r\n        <p>\r\n        <?php echo $item->longdescription ; ?>  \r\n        <\/p>\r\n    <\/div>\r\n<\/div>\r\n\r\n<div class=\"bottom-content\">\r\n        <table class=\"data-table\">\r\n            <tr>\r\n                <td class=\"label\"><?php echo JText::_('Altitude'); ?> <\/td>\r\n                <td class=\"value\"><?php echo $item->place_altitude ; ?> <\/td>\r\n            <\/tr>\r\n            <tr>\r\n                <td class=\"label\"><?php echo JText::_('Type'); ?> <\/td>\r\n                <td class=\"value\"><?php echo ($item->is_base) ? JText::_('Is a base' ) : JText::_('Is not a base' ); echo \" | \"; echo ($item->is_stop) ? JText::_('Is a stop' ) : JText::_('Is not a stop' ); ?> <\/td>\r\n            <\/tr>\r\n          <?php if ($item->is_stop) { ?>\r\n            <tr>\r\n                <td class=\"label\"><?php echo JText::_('Places indoor | outdoor'); ?> <\/td>\r\n                <td class=\"value\"><?php echo $item->places_indoor . \" indoor | \" . $item->places_outdoor . \" outdoor\"; ?> <\/td>\r\n            <\/tr>\r\n            <?php } ?>\r\n            <tr>\r\n                <td class=\"label\">Posti Letto<\/td>\r\n                <td class=\"value\">35<\/td>\r\n            <\/tr>\r\n        <\/table>\r\n    <\/div>\r\n<\/div>\r\n<div>\r\n    <p>\r\n    <?php echo \" \" ; ?>  \r\n    <\/p>\r\n<\/div>\r\n<\/body>\r\n<?php endforeach; ?>\r\n\r\n<?php if (isset($this->items) && isset($this->pagination) && isset($this->pagination->pagesTotal) && $this->pagination->pagesTotal > 1): ?>\r\n\t<div class=\"pagination\">\r\n\t\t<?php if ($this->params->def('show_pagination_results', 1)) : ?>\r\n\t\t\t<p class=\"counter pull-right\"> <?php echo $this->pagination->getPagesCounter(); ?> <?php echo $this->pagination->getLimitBox(); ?><\/p>\r\n\t\t<?php endif; ?>\r\n\t\t<?php echo $this->pagination->getPagesLinks(); ?>\r\n\t<\/div>\r\n<?php endif; ?>\r\n<input type=\"hidden\" name=\"task\" value=\"\" \/>\r\n<?php echo Html::_('form.token'); ?>\r\n<\/form>\r\n\r\n\r\n<script>\r\nfunction openLightbox(imageSource) {\r\n    \/\/ Get the modal and image elements\r\n    const modal = document.getElementById('lightbox-modal');\r\n    const modalImg = document.getElementById('lightbox-image');\r\n\r\n    \/\/ Set the image source and display the modal\r\n    modalImg.src = imageSource;\r\n    modal.style.display = 'block';\r\n}\r\n\r\nfunction closeLightbox() {\r\n    const modal = document.getElementById('lightbox-modal');\r\n    modal.style.display = 'none';\r\n}\r\n\r\n\/\/ Optional: Close the modal if the user presses the ESC key\r\ndocument.addEventListener('keydown', function(event) {\r\n    if (event.key === \"Escape\") {\r\n        closeLightbox();\r\n    }\r\n});\r\n<\/script>\r\n\r\n",
    "snippet": "0",
    "add_php_jview": 1,
    "custom_get": null,
    "css_document": "",
    "add_javascript_file": 0,
    "css": "table, th, td {\r\n  border: 1px solid;\r\n  word-break: break-all;\r\n}",
    "add_js_document": 0,
    "php_ajaxmethod": "<!-- text to be inserted in .ini file for site view -->\r\nJust get COM_BOOKINGS_IMAGE language string: JustTEXT::_('Image');\r\nJust get COM_BOOKINGS_NAME language string: JustTEXT::_('Name');\r\nJust get COM_BOOKINGS_LOCATION language string: <?php  JustTEXT::_('Location'); ?>\r\nJust get COM_BOOKINGS_ALTITUDE language string: <?php  JustTEXT::_('Altitude'); ?>\r\nJust get COM_BOOKINGS_IS_STOP language string: <?php  JustTEXT::_('Is stop'); ?>\r\nJust get COM_BOOKINGS_IS_BASE language string: <?php  JustTEXT::_('Is base'); ?>",
    "add_css_document": 0,
    "libraries": null,
    "add_css": 1,
    "dynamic_get": "e12b2a0d-b122-4bd4-a6b5-29fe926ecf8c",
    "add_php_ajax": 1,
    "ajax_input": null,
    "add_custom_button": 0,
    "php_document": "",
    "button_position": 2,
    "php_view": "use Joomla\\CMS\\Uri\\Uri;\r\n",
    "php_jview_display": "",
    "custom_button": null,
    "php_jview": "",
    "php_controller": "",
    "guid": "d6f6a358-be9d-49d0-931e-ac2cbe37ba38",
    "php_model": "",
    "@dependencies": [
        {
            "key": "guid",
            "value": "e12b2a0d-b122-4bd4-a6b5-29fe926ecf8c",
            "entity": "dynamic_get",
            "table": "#__componentbuilder_dynamic_get",
            "direction": "out"
        },
        {
            "key": "guid",
            "value": "db6c9fbf-fcbd-4d18-8415-d6ea71f87136",
            "entity": "layout",
            "table": "#__componentbuilder_layout",
            "direction": "out"
        }
    ]
}